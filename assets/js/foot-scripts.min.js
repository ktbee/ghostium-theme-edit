/*!
 * Ghostium
 * A Ghost theme focused on content based on Medium design/ux
 * http://ghostium.oswaldoacauan.com/
 * @author Oswaldo Acauan http://oswaldoacauan.com
 * @version 2.2.3
 * Copyright 2013. MIT licensed.
 */
var Drawer=function(a,b){"use strict";var c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},d=c[b.prefixed("transition")],e=a("body"),f=a("#container"),g=a(".drawer-overlay"),h={open:function(){e.addClass("drawer-open drawer-transition")},close:function(){e.removeClass("drawer-open")},isOpen:function(){return e.hasClass("drawer-open")},bindOverlay:function(){g.on("click",function(a){a.preventDefault(),e.hasClass("drawer-open")&&h.close()})},bindAnchors:function(){a(".drawer-list a").on("click",function(a){h.close()})},bindContainerTransEnd:function(){f.on(d,function(a){e.hasClass("drawer-open")||e.removeClass("drawer-transition")})},init:function(){h.bindOverlay(),h.bindAnchors(),h.bindContainerTransEnd()}};return{init:h.init,open:h.open,close:h.close,isOpen:h.isOpen}}(jQuery,Modernizr),ImageLoader=function(a){"use strict";var b=(a("body"),a("#container"),a(".drawer-overlay"),{done:function(a){a.addClass("image-loaded")},success:function(a,c){a.css("background-image","url("+c.src+")"),b.done(a)},init:function(a){var c=new Image,d=a.data("load-image");return d.length&&(c.src=d,c.onload=b.success(a,c),c.onerror=b.done(a),c.onabort=b.done(a)),c}});return{load:b.init}}(jQuery);!function(a,b,c,d){"use strict";a(function(){var e=b.GHOSTIUM,f=a(b),g=a(c),h=(a(c.documentElement),a(c.body)),i=a("head"),j=h,k=a(".content",j);FastClick.attach(c.body),Drawer.init(),Prism.languages.html=Prism.languages.markup;var l=function(){a("code").not('[class*="language-"]').addClass(function(){var b=a(this).attr("class")||"markup";return b=b.replace(/(language|lang)+\-/gi,""),"language-"+(Prism.languages.hasOwnProperty(b)?b:"markup")}),Prism.highlightAll()};l();var m=function(){e.haveDisqus&&"object"==typeof DISQUS&&a("#disqus_thread").length&&DISQUS.reset({reload:!0,config:function(){this.page.identifier=disqus_identifier}})},n=function(){if(!e.haveDisqus)return void a("[data-disqus-identifier]").parent("li").remove();if("object"==typeof DISQUSWIDGETS){var c=h.find("[data-disqus-identifier]"),d=i.find('script[src*="disqus.com/count-data.js"]'),f=c.map(function(){return"1="+encodeURIComponent(a(this).data("disqus-identifier"))}).sort().get();d.remove(),f.length&&(i.append(a("<script/>",{async:!0,src:"//"+b.disqus_shortname+".disqus.com/count.js?"+f.join("&")})),DISQUSWIDGETS.getCount())}};n();var o=function(){e.haveGA&&"function"==typeof ga&&(ga("set","location",b.location.href),ga("send","pageview"))};if(a.support.pjax&&e.enablePjax){g.on("pjax:start",function(){j.scrollTop(0)}),g.on("pjax:end",function(){m(),o(),n(),l(),a("[data-load-image]",k).each(function(){ImageLoader.load(a(this))})});var p={container:"[data-pjax-container]",fragment:"[data-pjax-container]"};g.pjax("a[data-pjax]",p),g.on("submit","form[data-pjax]",function(b){a.pjax.submit(b,p)})}g.on("click","[data-action]",function(e){var f=a(this),g=f.data("action"),h=function(a,c,e){var f=b.screenLeft!==d?b.screenLeft:screen.left,g=b.screenTop!==d?b.screenTop:screen.top,h=screen.width/2-e/2+f,i=screen.height/2-c/2+g,j=b.open(a,"","toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=no,resizable=no,copyhistory=no, width="+e+", height="+c+", top="+i+", left="+h);return b.focus&&j.focus(),j};switch(e.preventDefault(),g){case"open-drawer":Drawer.open();break;case"close-drawer":Drawer.close();break;case"share-gplus":h("https://plus.google.com/share?url="+encodeURIComponent(location.href),600,600);break;case"share-facebook":h("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(location.href),436,626);break;case"share-twitter":h("https://twitter.com/share?url="+encodeURIComponent(location.href)+"&text="+encodeURIComponent(c.title),440,550)}return!1}),a("[data-load-image]",h).each(function(){ImageLoader.load(a(this))}),j.on("scroll",function(){var b=j.scrollTop(),c=a("#drawer-button");0===b?c.removeClass("drawer-button-hidden"):c.hasClass("drawer-button-hidden")||c.addClass("drawer-button-hidden")}),g.on("click","a[href^=#]:not([href=#])",function(b){b.preventDefault();var c=a(this.hash);return c=c.length?c:a("[name="+this.hash.slice(1)+"]"),c.length?(j.animate({scrollTop:c.offset().top},500),location.hash=this.hash,!1):void 0}),j.on("touchstart",function(a){}),h.hasClass("home-template")&&a(".wrapper").eq(0).focus(),f.on("orientationchange",function(a){m()})})}(jQuery,window,document);